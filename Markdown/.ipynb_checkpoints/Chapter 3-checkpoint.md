## 3.1 位置的度量

### 3.1.1 平均数

​		在统计中，最重要的数值度量，大概就是平均数了，平均数能够反映数据中心的位置，比如一个班的平均成绩。平均数的计算公式如下：
$$
\bar{x}=\frac{\sum x_i}{n}
$$
​		例如，你手里有五个苹果，他们的质量分别是：

<table style="margin:0 auto;">
	<tr>
              <td>330 g</td>
              <td>300 g</td>
              <td>325 g</td>
              <td>295 g</td>
              <td>334 g</td>
	</tr>
</table>


那么平均值就是：
$$
\bar{x}=\frac{\sum x_i}{n}=\frac{x_1+x_2+x_3+x_4+x_5}{5}
=\frac{330+300+325+295+334}{5}
=316.8
$$
​		这里有一个符号需要说明一下，假如你想知道全校男生的平均身高，但是你又没有足够的时间精力金钱取一个个测出来，于是你决定用你们班男生的平均身高来代表。在这里，被测试的全班同学的身高就成为一个样本，我们用$\bar{x}$表示这个样本的平均值；你想知道的全校同学的平均身高就是总体，我们用$\mu$表示这个总体均值，假设总体有$N$个样本，那么总体均值的计算公式如下：
$$
\mu=\frac{\sum x_i}{N}
$$

### 3.1.2 加权平均数

​		在某一门课程开课的时候，很多老师都会说明这门课程的总评分数的占比，例如，平时分占$20\%$，期中考试占$30\%$，期末考试占$50\%$。然而实际上，老师在打分的时候，平时分，期中成绩，期末成绩都是按照$100$分打的，那么最后的总评分究竟是怎么计算的呢？这里就需要用到加权平均数了。加权平均数的计算公式是这样的：
$$
\overline{x}=\frac{\sum w_ix_i}{\sum w_i}
$$
​		例如，假如你的三项成绩分别如下：

| 平时成绩 | 期中成绩 | 期末成绩 |
| :------: | :------: | :------: |
|   100    |    90    |    80    |

​		根据刚刚提到的成绩比例，你的总评成绩的计算如下：
$$
\overline{x}=\frac{\sum w_ix_i}{\sum w_i}=
\frac{100\times20\%+90\times30\%+80\times50\%}{20\%+30\%+50\%}
=87
$$

### 3.1.3 中位数

​		中位数也是一种对变量中心的度量。将一列数值按照大小排列（从小到大或者从大到小均可），若有奇数个数据，则中位数即为最中间的那个数；若为偶数，则中位数是中间两个数的平均值。例如：

<table style="margin:0 auto;">
    <tr>
        <td>1</td>
        <td>2</td>
        <td>3</td>
    </tr>
</table>

的中位数为$2$.

而

<table style="margin:0 auto;">
    <tr>
        <td>1</td>
        <td>2</td>
        <td>3</td>
        <td>4</td>
    </tr>
</table>


的中位数为$\frac{2+3}{2}=2.5$.

​		在数据集含有异常值的情况下，中位数比平均数更适合度量数据的中心位置。例如，评价某一个公司的薪资水平时，平均薪酬往往会被极少部分薪酬异常高的人拉高，不能很好地反映公司员工的中心薪酬，这时往往取中位数比较合适，说明公司有一般人薪酬大于中位数，一般人的薪酬小于中位数。

### 3.1.4 几何平均数

​		几何平均数是$n$个数据乘积的$n$次方根，记为$\bar{x}_g$，表达式为：
$$
\bar{x}_g=\sqrt[n]{x_1x_2x_3...x_n}=({\prod\limits_{i=1}^{n}x_i})^{\frac{1}{n}}
$$
​		几何平均数最常见的应用场景就是求平均。例如，某基金十年内每年的增长率分别是$x_1, x_2, x_3, ..., x_{10}$,假设最初投资$M_0$元，则十年后的基金$M_{10}$为：
$$
M_{10}=M_0(1+x_1)(1+x_2)+...+(+x_{10})
$$
则其十年间的平均增长率为：
$$
\bar{x}_g=(\prod\limits_{i=1}^{10}(1+x_i))^{\frac{1}{10}}-1
$$

### 3.1.5 众数

​		一组数据中出现次数最多的数据。需要注意的是，一组数据可能不止一个众数，可能有一个数据出现的次数并列最多，那么他们均为众数。

### 3.1.6 百分位数

​		对于包含$n$个观测值的数据，第$p$百分位数将数据分为两个部分：大约有$p\%$的观测值小于第$p$百分位数，大约有$1-p\%$的观测值大于第$p$百分位数。第$p$个百分位数的位置$L_p$为：
$$
L_p=\frac{p}{100}(n+1)
$$

### 3.1.7 四分位数

​		说白了其实就是第$25$百分位数、第$50$百分位数和第$75$百分位数。符号标记如下：
$$
Q_1=第一四分位数=第25百分位数\\
Q_2=第一四分位数=第50百分位数\\
Q_3=第一四分位数=第75百分位数
$$

## 3.2 变异程度的度量

​		除了关注数据的平均水平，我们还会经常关注数据的变异程度。例如，你有两个$npy$，一个的性格时而让你感觉你是皇帝，时而让你感觉你是敌人，我们就说她的性格变异程度特别大。另一个呢，对你的态度起伏变化很小，我们就说她的性格变异程度很小。再举一个数量上的例子，考虑某一个月你每天花钱的数目，第一个月每天花的钱的数目都差不多，基本在$40$软妹币左右徘徊，一个月下来花了$1200$软妹币；第二个月是双十一，那天你花了$300$软妹币，由于母上大人每个月打的钱都是$1200$软妹币，那么这个月剩下的日子就只能紧衣缩食了。接下来我们就用一些方法来度量这种数据变异程度。
在这一部分我们使用从$Kaggle$上下载的[手机价格数据](https://www.kaggle.com/iabhishekofficial/mobile-price-classification/version/1)进行分析，选择这个数据集的原因是我乐意。

### 3.2.1 极差
$$
极差=最大值-最小值
$$

​		极差是很容易计算的变异程度的度量，但是却很少使用，因为它及其易受到异常值的影响，就像，你的$npy$一直以来只对你发过唯一的一次火，如果用极差评价他的脾气的话，就会有他脾气波动很大的误判。

### 3.2.2 四分位数间距

​		四分位数间距（$interquartile\ range，IQR$）则能够克服异常值的影响。它是第三四分位数和第一四分位数的差，这也就意味着，四分位数是中间$50\%$的数据的极差。

### 3.2.3 方差

​		方差是用所有数据对变异程度的度量。方差和每一个数据都有关系。用每个观察值减去平均值（如果是整体就是$\mu$，如果是样本就是$\bar{x}$，就是平均数的离差，方差就是离差平方的平均值。总体方差和样本方差的计算公式如下。

​		总体方差用符号$\sigma ^2$表示。
$$
\sigma ^2=\frac{\sum {(x_i-\mu)}^2}{N}
$$
​		样本方差用$s^2$表示。
$$
s^2=\frac{\sum {(x_i-\bar{x})}^2}{n-1}
$$


​		我知道你一定很疑惑为什么这里的分母是$n-1$而不是$n$，关于这个问题，我将专门写一篇文章讨论一下，现在你可以这么想，如果我们仅仅是取整体得一个样本，那么仍然用$n$作为分母的话，就会对方差有一个低估，所以我们需要除以一个更小的分母$n-1$，至于为什么是$n-1$而不是$n-2$或者其他小于$n$的数字，我将会在另一篇文章中讨论。

​		另一种计算样本方差的公式，由于
$$
D(X)=E(X-E(X))^2\\
=E(X^2-2XE(X)+(E(X))^2)\\
=E(X^2)-E(2XE(X))+(E(X))^2)\\
=E(X^2)-(E(X))^2
$$
故
$$
s^2=\frac{\sum x_i^2-n\bar{x}^2}{n-1}
$$


### 3.2.4 标准差

前面提到的方差由于是平方得到的，因此他的量纲比较难以理解，例如，你某一个月的每天花钱的方差的的单位是$(RMB)^2$，这个单位就很难理解，因此我们就把方差开方，得到了标准差。

总体标准差用符号$\sigma$表示。
$$
\sigma=\sqrt{\sigma ^2}
$$
样本标准差用符号$s$表示。
$$
s=\sqrt{s ^2}
$$

### 3.2.5 标准差系数

有时候，我们会对标准差相对于平均数的大小感兴趣，例如当你收入的平均值在一个亿左右时的标准差为$1000 RMB$和你收入在$3000 RMB$时的标准差为$1000 RMB$，对你的影响时不同的。因此我们会计算标准差系数。
$$
标准差系数=(\frac{标准差}{平均数}\times100)\%
$$

### 3.2.6 平均绝对偏差

平均绝对误差（$MAE$）每个观察值和平均值之间的绝对值的平均值。
$$
MAE=\frac{\sum \left|x_i-\bar{x}\right|}{n}
$$

## 3.3 分布形态、相对位置的度量以及异常值的检测

### 3.3.1 分布形态

